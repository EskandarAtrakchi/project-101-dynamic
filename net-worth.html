<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <!-- style CSS -->
    <link rel="stylesheet" href="style.css" />
    <!-- likeStyle CSS -->
    <link rel="stylesheet" href="likeStyle.css" />

    <title>Encryption and Decryption</title>
</head>
<body >
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <img src="https://cliply.co/wp-content/uploads/2021/02/372102230_BITCOIN_400px.gif" class="logo" alt="Logo" />
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="equations.html">Equations</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="calculate.html">Calculate</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="charts.html">Charts</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="net-worth.html">Wallet Net-Worth <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="wallet-generate.html">Wallet-Generate</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- <button id="toggleBtn" class="btn" onclick="darkMode ()">Toggle Dark Mode</button> -->
    <!--<button onclick="checkingInternetStatus ()" class="btn" >Check data connection</button>-->

    <!-- Sidebar -->
    <div class="w3-sidebar w3-bar-block w3-border-right" style="display:none" id="mySidebar">
        <button onclick="w3_close()" class="w3-bar-item w3-large">Close &times;</button>
        <button id="toggleBtn" class="w3-bar-item w3-button" onclick="darkMode ()">Toggle Dark Mode</button>
        <button onclick="checkingInternetStatus ()" class="w3-bar-item w3-button" >Check data connection</button>
        <a href="#" class="w3-bar-item w3-button">Link 3</a>
    </div>

    <div class="w3-teal">
        <button class="w3-button w3-teal w3-xlarge" onclick="w3_open()">â˜°</button>
    </div>

    <div class="net-worth">
        <div>
            <form id="wallet-form">
                <h3>Example of ETH wallet address<br>Kucoin ETH wallet address: <br><strong><em>0xd6216fc19db775df9774a6e33526131da7d19a2c<br></em></strong></h3>
                <input type="text" id="wallet-address" placeholder="Enter wallet address" required="">
                Select Blockchain <br>
                <select id="chain-select">
                    <option value="eth">ETH</option>
                    <option value="polygon">Polygon</option>
                    <option value="bsc">BSC</option>
                    <option value="avalanche">Avalanche</option>
                    <option value="fantom">Fantom</option>
                    <option value="palm">Palm</option>
                    <option value="cronos">Cronos</option>
                    <option value="arbitrum">Arbitrum</option>
                    <option value="chiliz">Chiliz</option>
                    <option value="gnosis">Gnosis</option>
                    <option value="base">Base</option>
                    <option value="optimism">Optimism</option>
                </select>
                <button type="submit" class="btn" onclick="walletTrack()" >Track Wallet</button>
            </form>
            <div id="result"></div>
        </div>
    </div>

    <div id="netWorthAnimation" class="net-worth-animation">
        <div class="terminal-loader">
            <div class="terminal-header">
              <div class="terminal-title">Status</div>
              <div class="terminal-controls">
                <div class="control close"></div>
                <div class="control minimize"></div>
                <div class="control maximize"></div>
              </div>
            </div>
            <div class="text">Tracking Wallet<br>on the Blockchain</div>
          </div>
    </div>

    <script>
        document.getElementById('wallet-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            const walletAddress = document.getElementById('wallet-address').value;
            const chain = document.getElementById('chain-select').value;
            const options = {
                method: 'GET',
                headers: {
                    accept: 'application/json',
                    'X-API-Key': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJub25jZSI6ImJiNWEyOWY5LWE5YjgtNDEwZC1iZDE1LTg2NDM2N2NhNzRhNiIsIm9yZ0lkIjoiMzM0MjI4IiwidXNlcklkIjoiMzQzNjQ0IiwidHlwZSI6IlBST0pFQ1QiLCJ0eXBlSWQiOiIxYmYwOTMxMC1jNDdjLTQzZGMtOTQ0Ni1lZmZlNTVjNGEyYmIiLCJpYXQiOjE3MTExNDY2NDAsImV4cCI6NDg2NjkwNjY0MH0.ozz--ABVhBXp6ModCqrtR2MU0rSU8NJamh-qs_bRKsg'
                },
            };
            try {
                const response = await fetch(`https://deep-index.moralis.io/api/v2.2/wallets/${walletAddress}/net-worth?chains%5B0%5D=${chain}&exclude_spam=true&exclude_unverified_contracts=true`, options);
                const data = await response.json();
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <h2>Total Net Worth: ${data.total_networth_usd} USD</h2>
                    ${data.chains.map(chain => `
                        <h3>Chain: ${chain.chain}</h3>
                        <p>Native Balance: ${chain.native_balance} (${chain.native_balance_usd} USD)</p>
                        <p>Token Balance: ${chain.token_balance_usd} USD</p>
                        <p>Net Worth: ${chain.networth_usd} USD</p>
                    `).join('')}
                `;
            } catch (err) {
                alert('An error occurred while fetching the data.' + err.message);
            }
        });
    </script>
    
    <!--Arrow to go up -->
    <a href="#top">
        <h1 style="float: right;"><img src="https://archive.org/download/arrowup/arrowup.gif" style="width: 13%; height: 33%; float: right;" alt="IMG-HERE" /></h1>
    </a>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <script src="app.js"></script>

</body>
</html>